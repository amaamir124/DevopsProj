version: '3'

services:

  appointments:
    image: amaamir124/project-microservice-appointments:${{ github.sha }}
    expose:
      - "7070"
    networks:
      - frontend_network

  doctors:
    image: amaamir124/project-microservice-doctors:${{ github.sha }}
    expose:
      - "9090"
    networks:
      - frontend_network

  frontend:
    image: amaamir124/project-microservice-frontend:${{ github.sha }}
    ports:
      - "3000:3000"
    environment:
      DOCTORS_SERVICE_URL: doctors:9090
      APPOINTMENTS_SERVICE_URL: appointments:7070
    depends_on:
      - appointments
      - doctors
    networks:
      - frontend_network

networks:
  frontend_network:
    driver: bridge
